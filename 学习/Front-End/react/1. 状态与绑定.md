# 0. JSX
- 是javaScripth和XML的缩写，在js中写html
- {} 用法
  - 使用引号传递字符串
  - 识别js变量
  - 函数调用
  - 识别js对象


# 1. useState
  - 是React Hook函数（数据驱动视图）
  - 状态不可变： 状态是只读的，因该替换而非修改
## 基本模板
```js
  function App () {
    // 1.count    状态变量
    // 2.setCount 修改count的方法
    const [count，setCount]= useState(0)
    const handleClick=()=>{ setCount(count+ 1) }
    return (
      <button onClick={handleClick}>{count}</button>
    )
  }
```
## 场景1：受控表单绑定
```js
  const [value, setValue] = useState('')
  const onChange = { (e) => setValue(e.target.value) }
  return {
    <inupt type="text" value={value} onChange />
  } 
```

# 2. useRef：DOM绑定
- 随机数： pnpm i uuid
- import {v4 as uuidV4} from 'uuid'
- 标准日期： pnpm i dayjs

# 3. useEffect：渲染本身:
  useEffect(() => {}, [])
  1. 如Ajax, 更改dom
  2. 数据获取
  3. 清除副作用： 在组件卸载时执行 clearInterval(timer)

实例|依赖项|副作用函数执行时机
--|--|--
useEffect(() => {})|无依赖项|组件初始渲染+组件更新时执行
useEffect(() => {}, [])| 空数组依赖|只在初始渲染时执行一次
useEffect(() => {}, [count])|添加特定依赖项|特性依赖向变化时执行




# 4. 自定义hook
## 4.1 用法
  - 声明use开头的函数
  - 在函数体内封装可复用的逻辑
  - 把组件中用到的状态或者回调函数 return出去 
  - 在每一个组件中解构此hook

```js
  import { useState } from "react"

  function useToggle(){
  // 可复用的逻辑代码
  const [value,setValue]= useState(true)
  const toggle=()=> setValue(!value)
  // 哪些状态和回调函数需要在其他组件中使用
  return return {
    value,
    toggle
  }
 }
```
## 4.2 使用规则
  - 只能在组件中或者其他自定义hook中使用
  - 只能在组件顶层调用，不能嵌套在if、for、其他函数中 

## 4.4 用户自定义hook封装数据请求
```js
  function useGetList (){
    // 获取接口数据渲染
    const [commentList,setCommentList]= useState([])
    useEffect(() => {
      //请求数据
      async function getList ({
        // axios请求数据
        const res = await axios.get('localhost:3004/list')
        setCommentList(res.data)
    }
    getList()
    }，[])

    return {
      commentList, 
      setCommentList
    }
  }
```








# 5. 常见功能
## 5.1 渲染列表 - list.map
```js
const list = [
  {id: 101, name: 'Vue'}，
  {id: 102, name: 'React'}，
  {id: 103, name: 'Angular'}，
]
______________________________________________
<ul>
  { list.map(item => <li key={item.id}>{item.name}</li> ) }
</ul>
```

## 5.2 条件渲染
```js
  const articleType = 1 //0 1 3

  function getArticleTem(){ // 条件渲染模板
    if (articleType --0){
      return <div>我是无图文章</div>
    } else if (articleType1){ 
      return <div>我是单图模式</div>
    }else {
      return <div>我是三图模式</div>
    }
  }
______________________________________________
  function App() { 
    return (
      <div className="App">
        {getArticleTem()}{/* 调用函数渲染不同的模版 */}
      </div>
    )
  }
  export default App
```
## 5.3 删除功能 - list.filter

```js
  // 1. 使用useState维护list
  const [cList,setCList]= useState(list)
  // 删除功能
  const handleDelete =(id)=>{
    console.log(id)
    // 对cList做过滤处理
    setCList(cList.filter(item => item.rpid !==id))
  } 
```

## 【场景】 Tab高亮实现
```js
  // 1. 点击谁就把谁的type记录下来
  // 2.通过记录的type和每一项遍历时的type做匹配 控制激活类名的显
  const	[type，setType]= useState('hot')	
  const handleTabChange = (type) =>{ 
    console.log(type) 
    setType(type)
  }
  _____________________________
  {
    // 遍历时和每一项type匹配
    tabs.map(item =>
      <span
        key={item.type}
        onClick={() => handleTabChange(item.type)}
        className={`nav-item ${type=- item.type && 'active'}`}>{item.text}
      </span>)
  }
```




